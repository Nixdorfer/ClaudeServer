# Claude API 配置文件
# 请根据实际情况修改以下配置

# ============================================================================
# 认证 Token 配置（新版推荐配置方式）
# ============================================================================
#
# 【最小化配置策略】
# 你可以只填写必需的字段，其他字段留空。程序会自动忽略空字段。
# 如果遇到认证失败，可以逐步添加更多字段进行测试。
#
# 必需字段：
#   - organization_id (必需)
#   - session_key (必需)
#
# 可选字段（按重要性排序）：
#   1. cf_clearance, cf_bm - MCP WebSocket 连接可能需要
#   2. device_id, anonymous_id - 提高稳定性
#   3. 其他字段 - 增强浏览器模拟，但通常不是必需的
#
# ============================================================================
tokens:
  # --- 核心认证信息（必需）---
  organization_id: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
  session_key: "sk-ant-sid01-xxxxxx"

  # --- Cloudflare 验证 Token（MCP WebSocket 可能需要）---
  cf_clearance: ""
  cf_bm: ""

  # --- 设备和用户标识（建议提供，但非必需）---
  device_id: ""
  anonymous_id: ""

  # --- 其他可选 Token（可选，用于更完整的浏览器模拟）---
  user_id: ""
  activity_session_id: ""
  intercom_device_id: ""
  intercom_session_id: ""

# ============================================================================
# 如何获取这些 Token？
# ============================================================================
# 1. 打开浏览器访问 https://claude.ai 并登录
# 2. 按 F12 打开开发者工具
# 3. 切换到 "Application"（应用）或 "Storage"（存储）标签
# 4. 在左侧找到 "Cookies" -> "https://claude.ai"
# 5. 在右侧的 Cookie 列表中，找到需要的字段并复制其值
#
# 【逐步测试策略】
# 如果不确定哪些字段是必需的，可以按以下步骤测试：
# 1. 首先只填写 organization_id 和 session_key，测试基本功能
# 2. 如果 MCP WebSocket 连接失败，添加 cf_clearance 和 cf_bm
# 3. 如果仍有问题，逐步添加 device_id 和 anonymous_id
#
# 注意：
#   - cf_clearance 和 __cf_bm 有时效性，过期后需要重新获取
#   - 不要分享这些 token 给他人，它们可以用来访问你的 Claude 账户
# ============================================================================

# 服务配置
debug: false
thread_num: 5
server_port: 5000
min_client_version: "1.0.0"
api_endpoint: "http://localhost:5000"

# 速率限制
max_tpm: 0
max_rpm: 0
max_rpd: 0
request_interval_ms: 2000

# 用量限制
usage_limit_five_hour: 75
usage_limit_seven_day: 50

# 数据库配置
db_host: "localhost"
db_port: 5432
db_user: "postgres"
db_password: "your_password"
db_name: "claude_db"

# 默认模型和样式
default_model: "sonnet-4.5"
default_style: "concise"

# 代理配置
proxy:
  enable: false
  http: ""
  https: ""

# 模型配置
models:
  - id: "sonnet-4.5"
    object: "model"
  - id: "opus-4.1"
    object: "model"
  - id: "haiku-4.5"
    object: "model"

# 样式配置
styles:
  - key: "normal"
    name: "Normal"
    summary: "默认回复风格"
    prompt: ""
  - key: "concise"
    name: "Concise"
    summary: "更精炼的回复风格"
    prompt: "concise"
  - key: "explanatory"
    name: "Explanatory"
    summary: "更详细的回复风格"
    prompt: "explanatory"

# MCP Connector 配置
# Model Context Protocol 连接器，用于扩展 Claude 的能力
# 使用 ./claude-adapter -t 命令测试MCP连接
mcp_connectors:
  # 示例配置
  # - name: "MCP Server"
  #   uuid: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
  #   enabled: true
  #
  # 如何获取UUID:
  # 1. 在claude.ai网页中配置MCP服务器（包括URL、OAuth等）
  # 2. 打开浏览器开发者工具 -> Network
  # 3. 查看 /mcp/remote_servers 请求的响应
  # 4. 复制对应服务器的uuid字段
